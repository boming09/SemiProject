<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM
"http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectList">
		SELECT 
		        BOOK_NAME
		      , CATEGORY_ID
		      , AUTHOR
		      , PUBLISHER
		      , SALE_PRICE
		      , PRICE
		      , STOCK
		      , BOOK_IMG
		      , CART_NO
		      , BOOK_ID
		      , C.USER_NO
		      , AMOUNT
		   FROM CART C
		  LEFT JOIN BOOK USING(BOOK_ID)
	</entry>

	<entry key="insertCart">
		INSERT
			INTO CART
			(
				CART_NO
			  , BOOK_ID
			  , AMOUNT
			  , USER_NO
			)
			VALUES
			(
				SEQ_CART_NO.NEXTVAL
			  , ?
			  , ?
			  , ?
			)
	</entry>
	
	<entry key="deleteCart">
		DELETE FROM CART
 		 WHERE CART_NO = ?
	</entry>
	
	<entry key="updateCart">
		UPDATE CART
	  	   SET AMOUNT = ?
	 	 WHERE CART_NO = ?
	</entry>

	<entry key="selectOrderList">
		SELECT 
		       BOOK_NAME
		     , CATEGORY_ID
		     , AUTHOR
		     , SALE_PRICE
		     , PRICE
		     , CART_NO
		     , BOOK_ID
		     , C.USER_NO
		     , AMOUNT
		  FROM CART C
		  LEFT JOIN BOOK USING(BOOK_ID)
	     WHERE CART_NO = ?
	</entry>

	<entry key="selectSortListLow">
		SELECT * 
		  FROM BOOK
		  JOIN CART USING(BOOK_ID)
		 ORDER BY SALE_PRICE
	</entry>
	
	<entry key="selectSortListHigh">
		SELECT * 
		  FROM BOOK
		  JOIN CART USING(BOOK_ID)
		 ORDER BY SALE_PRICE DESC
	</entry>
	
	<entry key="selectSortListName">
		SELECT * 
		  FROM BOOK
		  JOIN CART USING(BOOK_ID)
		 ORDER BY BOOK_NAME
	</entry>
	
	<entry key="selectSortListRel">
		SELECT * 
		  FROM BOOK 
		  JOIN CART USING(BOOK_ID)
		 ORDER BY PUBLICATION_DATE DESC
	</entry>
	
	<entry key="insertOrder">
		INSERT
			INTO ORDER_DETAIL
			(
			    BOOK_ID
			  , AMOUNT
			  , ORDER_NO
			  , ORDER_ID
			)
			VALUES
			(
			    ?
			  , ?
			  , SEQ_ORDER_NO.NEXTVAL
			  , ORDER_ID.NEXTVAL
			)
	</entry>
	
	<entry key="selectAbook">
		SELECT 
		       BOOK_NAME
		     , CATEGORY_ID
		     , AUTHOR
		     , SALE_PRICE
		     , PRICE
		     , BOOK_ID
		  FROM BOOK
	     WHERE BOOK_ID = ?
	</entry>

	
	<entry key="insertFinalOrder">
		INSERT 
			INTO "ORDER"
			(
				ORDER_NO
			  , ORDER_DATE
			  , REL_DATE
			  , RECEIPTE_DATE
			  , ADDRESS
			  , PHONE
			  , PAYMENT
			  , USER_NO
			)
			VALUES
			(
			  SEQ_ORDER_NO.NEXTVAL
			, SYSDATE
			, SYSDATE+1
			, SYSDATE+2
			, ?
			, ?
			, ?
			, ?
			)
	</entry>
	
		
	<entry key="insertOrderDetail">
		INSERT
			INTO ORDER_DETAIL
			(
			    BOOK_ID
			  , AMOUNT
			  , ORDER_NO
			  , ORDER_ID
			)
			VALUES
			(
			    ?
			  , ?
			  , SEQ_ORDER_NO.CURRVAL
			  , ORDER_ID.NEXTVAL
			)
	</entry>
</properties>